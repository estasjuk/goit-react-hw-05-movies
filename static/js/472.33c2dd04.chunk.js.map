{"version":3,"file":"static/js/472.33c2dd04.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/SingleMovie/SingleMovie.module.css?5dab","components/SingleMovie/SingleMovie.jsx","shared/services/getGenresList.js","pages/SingleMoviePage/SingleMoviePage.jsx","shared/services/movies-api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Wrapper\":\"SingleMovie_Wrapper__UCPiy\",\"MovieCard\":\"SingleMovie_MovieCard__Tc4T2\",\"title\":\"SingleMovie_title__PKFz3\",\"AddInfo\":\"SingleMovie_AddInfo__+GQop\",\"AddInfoLink\":\"SingleMovie_AddInfoLink__Pg4BD\",\"GoBackBtn\":\"SingleMovie_GoBackBtn__xuXbV\"};","import { useState, useEffect } from 'react';\nimport {\n  useParams,\n  useNavigate,\n  Link,\n  Outlet,\n  useLocation,\n} from 'react-router-dom';\n\nimport Loader from 'shared/components/Loader/Loader';\nimport { getMovieDetails } from 'shared/services/movies-api';\nimport { getGenresList } from 'shared/services/getGenresList';\n\nimport css from './SingleMovie.module.css';\n\nconst SingleMovie = () => {\n  const [movie, setMovie] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const { movieId } = useParams();\n  const navigate = useNavigate();\n\n  const location = useLocation();\n  const from = location.state?.from || '/';\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        setLoading(true);\n        const data = await getMovieDetails(movieId);\n        setMovie(data);\n      } catch ({ response }) {\n        setError(response.data.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMovieDetails();\n  }, [movieId]);\n  // console.log(movie);\n  // console.log(movie.genres);\n\n  return (\n    <div className={css.Wrapper}>\n      {loading && <Loader />}\n      <button className={css.GoBackBtn} onClick={() => navigate(from)}>\n        Go back\n      </button>\n      <div className={css.MovieCard}>\n        <img\n          src={\n            movie.poster_path\n              ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\n              : 'https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-'\n          }\n          alt={movie.title}\n          width=\"300\"\n          loading=\"lazy\"\n        />\n        <div>\n          <h1 className={css.title}>\n            {movie?.title} ({movie?.release_date})\n          </h1>\n          <h3 className={css.title}>Overview:</h3>\n          <p>{movie?.overview}</p>\n          <h3 className={css.title}>Genres:</h3>\n          <p>{getGenresList(movie.genres)}</p>\n        </div>\n      </div>\n      <h3 className={css.title}>Additional information:</h3>\n      <div className={css.AddInfo}>\n        <Link className={css.AddInfoLink} to=\"cast\" state={{ from }}>\n          Cast\n        </Link>\n        <Link className={css.AddInfoLink} to=\"reviews\" state={{ from }}>\n          Reviews\n        </Link>\n      </div>\n      <Outlet />\n      {error && <p>Something goes wrong...</p>}\n    </div>\n  );\n};\n\nexport default SingleMovie;\n","export const getGenresList = array => {\n  return array.map(genre => genre.name).join(', ');\n};\n","import SingleMovie from '../../components/SingleMovie/SingleMovie';\n\nconst SingleMoviePage = () => {\n  return <SingleMovie />;\n};\n\nexport default SingleMoviePage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'a7a8c3125d3bc96af718eb60f4553f10',\n  },\n});\n\nexport const getTrendingMovies = async () => {\n  const { data } = await instance.get('/trending/movie/day');\n  return data;\n};\n\nexport const getMovieDetails = async movie_id => {\n  const { data } = await instance.get(`/movie/${movie_id}`);\n  return data;\n};\n\nexport const searchMoviesByTitle = async (query, page = 1) => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query,\n      page,\n    },\n  });\n  return data;\n};\n\nexport const searchCastByMovieId = async movie_id => {\n  const { data } = await instance.get(`/movie/${movie_id}/credits`);\n  return data;\n};\n\nexport const searchReviewsByMovieId = async movie_id => {\n  const { data } = await instance.get(`/movie/${movie_id}/reviews`);\n  return data;\n};\n"],"names":["array","useState","movie","setMovie","loading","setLoading","error","setError","movieId","useParams","navigate","useNavigate","from","useLocation","state","useEffect","fetchMovieDetails","getMovieDetails","data","response","message","className","css","Loader","onClick","src","poster_path","alt","title","width","release_date","overview","genres","map","genre","name","join","to","instance","axios","baseURL","params","api_key","getTrendingMovies","get","movie_id","searchMoviesByTitle","query","page","searchCastByMovieId","searchReviewsByMovieId"],"sourceRoot":""}